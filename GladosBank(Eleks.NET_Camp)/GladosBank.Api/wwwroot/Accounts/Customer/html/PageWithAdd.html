<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../css/CustomerBaseStyles.css">
    <!--<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
    <script src="../JavaScript/AddAndRemoveAccount.js"></script>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../css/CustomerBaseStyles.css">
    <title>Your account</title>
</head>
<body class="generalBackground">
    <script src="../JavaScript/CheckWhetherCustomer.js"></script>
    <div id="MainDiv">
        <div class="headerBackground">
            <br>
            <h1 id="TitleWithNameandRole" style="text-align:center;"><span style=" background-color: rgb(47, 173, 196);">Customer account</span></h1>
            <script>
                document.getElementById("TitleWithNameandRole").innerHTML += `<span style="background-color: red; "> ${localStorage.getItem('CurrentUserLogin')}</span> `;
            </script>
            <br>
        </div>

        <div id="SecondDiv" style="background-color: blueviolet; width: 252px; min-height: 825px; float:left">
            <br>
            <button onclick="RedirectBasePage()" style="font-size: 30px; font-family: 'Times New Roman', Times, serif; margin: 20px;"><b>Cancel</b></button>
        </div>
        <br>
        <div style="background-color: rgb(32, 77, 95); width: 1100px; min-height: 200px; float:right">

            <div style=" float:right;  margin-right: 15px;  margin-top: 5px; ">
                <button id="AddButton" onclick="AddClick()" style="height: 35px; width: 100px; background-color:rgb(219, 169, 31); font-size: 20px;">Add</button>
            </div>

            <div style="float:inline-start;">
                <label style="font-size: 30px;" for="Currency">&nbsp&nbspChoose currency</label>
                <select name="Currency" id="Currency">

                </select>
                <script>
                    axios.get("https://localhost:5001/api/Account/GetAllCurrencies", { headers: { Authorization: `Bearer ${localStorage.getItem('jwtToken')}` } })
                        .then((responce) => {
                            var getResponse = responce.status;
                            var currencies = responce.data;
                            console.log(getResponse);
                            console.log(currencies);
                            console.log("Cycle:");
                            daySelect = document.getElementById('Currency');
                            for (var i = 0; i < currencies.length; i++) {
                                
                                myOption = document.createElement("option");
                                myOption.text = `${currencies[i].symbol} (${currencies[i].code})`;
                                myOption.value = `${currencies[i].symbol} (${currencies[i].code})`;
                                daySelect.appendChild(myOption);
                            }
                        }).catch((error) => {
                            console.log(error);
                        });


                </script>

            </div>
            <br>
            <div>
                <textarea id="Note" type="textarea" style="float: left; margin-left: 15px; font-size: 23px; width: 1060px; height: 125px;">
                </textarea>
            </div>
        </div>

    </div>

</body>
</html>